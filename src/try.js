const face={
    "faceInViewConfidence": 1,
    "boundingBox": {
      "topLeft": [
        266.0977776920141,
        228.30031963724053
      ],
      "bottomRight": [
        469.73671817770924,
        434.0647068600941
      ]
    },
    "mesh": [
      [
        120.30108642578125,
        99.04375457763672,
        -20.02128028869629
      ],
      [
        120.85479736328125,
        77.68547058105469,
        -25.367021560668945
      ],
      [
        117.34327697753906,
        86.2884292602539,
        -16.171146392822266
      ],
      [
        110.6919174194336,
        63.28782653808594,
        -16.785531997680664
      ],
      [
        120.18689727783203,
        72.10688018798828,
        -25.653461456298828
      ],
      [
        117.4986572265625,
        66.308349609375,
        -22.026588439941406
      ],
      [
        109.64775848388672,
        53.6960334777832,
        -4.439371585845947
      ],
      [
        69.09614562988281,
        58.527889251708984,
        -1.3404743671417236
      ],
      
    ],
    "scaledMesh":[
        [ 338.0369873046875, 378.0309753417969, -17.70891761779785 ],

        [ 338.7701110839844, 351.95501708984375, -32.115135192871094 ],
            
        [ 338.25732421875, 360.4937438964844, -17.324420928955078 ],
    ],
    "annotations": {
      "silhouette": [
        [
          404.5343017578125,
          274.8893737792969,
          17.643062591552734
        ],
        [
          417.6961669921875,
          281.56976318359375,
          24.513120651245117
        ],
        [
          426.7109680175781,
          288.461669921875,
          34.714237213134766
        ],
        [
          432.8584289550781,
          297.2767333984375,
          46.39435958862305
        ],
        [
          435.15570068359375,
          306.7569885253906,
          57.828922271728516
        ],
        [
          434.3513488769531,
          316.747802734375,
          66.48374938964844
        ],
        [
          431.5047607421875,
          325.9010925292969,
          73.80692291259766
        ],
        [
          426.6622314453125,
          336.53167724609375,
          77.54253387451172
        ],
        [
          422.93023681640625,
          346.4910583496094,
          76.7261734008789
        ],
        [
          420.91558837890625,
          356.90283203125,
          72.02916717529297
        ],
        [
          418.2933654785156,
          367.9031982421875,
          64.5339126586914
        ],
        [
          414.5810241699219,
          378.93011474609375,
          54.07094192504883
        ],
        [
          411.71514892578125,
          387.1187438964844,
          41.054840087890625
        ],
        [
          409.4054870605469,
          392.3878173828125,
          27.467634201049805
        ],
        [
          405.29022216796875,
          396.24957275390625,
          16.056779861450195
        ],
        [
          401.347412109375,
          398.3185119628906,
          6.7843708992004395
        ],
        [
          396.7491760253906,
          399.7454833984375,
          -2.6848082542419434
        ],
        [
          389.86004638671875,
          399.7706298828125,
          -11.1526517868042
        ],
        [
          379.0236511230469,
          397.24847412109375,
          -17.014192581176758
        ],
        [
          365.9120178222656,
          392.5081787109375,
          -19.71615982055664
        ],
        [
          354.38916015625,
          386.6391906738281,
          -18.663375854492188
        ],
        [
          343.2334899902344,
          380.0660705566406,
          -14.908618927001953
        ],
        [
          332.77020263671875,
          372.9405517578125,
          -11.188241004943848
        ],
        [
          320.62152099609375,
          363.090087890625,
          -6.129834175109863
        ],
        [
          310.53973388671875,
          352.8076171875,
          1.4227007627487183
        ],
        [
          303.01947021484375,
          339.9278564453125,
          9.654545783996582
        ],
        [
          300.03759765625,
          325.25732421875,
          17.237869262695312
        ],
        [
          300.7969055175781,
          312.4615478515625,
          22.601524353027344
        ],
        [
          302.92529296875,
          301.1141662597656,
          26.221017837524414
        ],
        [
          306.28582763671875,
          289.93304443359375,
          26.841463088989258
        ],
        [
          313.5711669921875,
          278.8897705078125,
          24.305932998657227
        ],
        [
          323.0934143066406,
          271.161865234375,
          19.487974166870117
        ],
        [
          336.4759521484375,
          265.2810974121094,
          15.740426063537598
        ],
        [
          352.24169921875,
          262.5943908691406,
          12.069066047668457
        ],
        [
          371.23577880859375,
          264.14349365234375,
          10.51066780090332
        ],
        [
          387.9972839355469,
          268.35198974609375,
          12.420999526977539
        ]
      ],
      "lipsUpperOuter": [
        [
          364.555908203125,
          356.4001159667969,
          -17.45868492126465
        ],
        [
          368.0430908203125,
          354.92266845703125,
          -19.509540557861328
        ],
        [
          373.92193603515625,
          354.1005859375,
          -21.091215133666992
        ],
        [
          380.8559265136719,
          353.13226318359375,
          -22.070274353027344
        ],
        [
          390.16107177734375,
          353.4174499511719,
          -21.68580436706543
        ],
        [
          397.0140686035156,
          356.43011474609375,
          -20.02128028869629
        ],
        [
          402.875244140625,
          358.0378112792969,
          -16.59556770324707
        ],
        [
          407.13580322265625,
          362.2273864746094,
          -11.555742263793945
        ],
        [
          408.68939208984375,
          366.25341796875,
          -6.723487377166748
        ],
        [
          409.3190002441406,
          369.31085205078125,
          -1.9381616115570068
        ],
        [
          408.8533020019531,
          371.73333740234375,
          1.7289098501205444
        ]
      ],
      "lipsLowerOuter": [
        [
          367.2071838378906,
          358.66534423828125,
          -19.462003707885742
        ],
        [
          371.4700927734375,
          361.53436279296875,
          -21.5523624420166
        ],
        [
          377.5337829589844,
          365.55853271484375,
          -22.75373077392578
        ],
        [
          384.33984375,
          369.24786376953125,
          -22.56517219543457
        ],
        [
          391.6063232421875,
          372.04864501953125,
          -20.535852432250977
        ],
        [
          397.5577392578125,
          373.8260192871094,
          -17.628328323364258
        ],
        [
          402.4225158691406,
          374.13665771484375,
          -12.980698585510254
        ],
        [
          405.8072814941406,
          373.4366455078125,
          -8.788296699523926
        ],
        [
          407.58868408203125,
          372.7051696777344,
          -3.4347763061523438
        ],
        [
          408.8533020019531,
          371.73333740234375,
          1.7289098501205444
        ]
      ],
      "lipsUpperInner": [
        [
          367.32684326171875,
          356.60675048828125,
          -17.456405639648438
        ],
        [
          371.5358581542969,
          356.791259765625,
          -17.884952545166016
        ],
        [
          376.39520263671875,
          357.59747314453125,
          -18.65225601196289
        ],
        [
          381.92572021484375,
          358.6880187988281,
          -19.100879669189453
        ],
        [
          387.9137268066406,
          360.2362365722656,
          -18.898645401000977
        ],
        [
          393.4075012207031,
          362.02105712890625,
          -17.18351936340332
        ],
        [
          397.32733154296875,
          363.5177917480469,
          -14.261070251464844
        ],
        [
          400.2739562988281,
          364.9478759765625,
          -10.687036514282227
        ],
        [
          402.4998474121094,
          366.4527893066406,
          -7.260679244995117
        ],
        [
          404.1595764160156,
          367.8129577636719,
          -3.5951523780822754
        ],
        [
          405.57659912109375,
          369.6198425292969,
          -1.1421928405761719
        ]
      ],
      "lipsLowerInner": [
        [
          367.32684326171875,
          356.60675048828125,
          -17.456405639648438
        ],
        [
          371.30194091796875,
          357.9573059082031,
          -18.07831573486328
        ],
        [
          375.3341369628906,
          358.9337158203125,
          -18.893030166625977
        ],
        [
          381.1456298828125,
          360.39312744140625,
          -19.36335563659668
        ],
        [
          387.1795349121094,
          362.3409423828125,
          -19.19785499572754
        ],
        [
          393.0288391113281,
          364.3871154785156,
          -17.389076232910156
        ],
        [
          397.4945068359375,
          365.99176025390625,
          -14.358156204223633
        ],
        [
          400.85821533203125,
          367.294677734375,
          -10.813426971435547
        ],
        [
          403.0541076660156,
          368.50604248046875,
          -7.44879674911499
        ],
        [
          404.17315673828125,
          369.25732421875,
          -3.8320138454437256
        ],
        [
          405.57659912109375,
          369.6198425292969,
          -1.1421928405761719
        ]
      ],
      "rightEyeUpper0": [
        [
          354.2083740234375,
          295.4388732910156,
          -1.375678539276123
        ],
        [
          357.02154541015625,
          295.4277038574219,
          -2.0234508514404297
        ],
        [
          361.16705322265625,
          295.7165832519531,
          -2.286745071411133
        ],
        [
          366.6153869628906,
          297.0692138671875,
          -1.4665312767028809
        ],
        [
          371.01898193359375,
          299.0123291015625,
          0.07882030308246613
        ],
        [
          375.0481872558594,
          301.70074462890625,
          2.0208027362823486
        ],
        [
          377.49444580078125,
          304.3274230957031,
          3.5847740173339844
        ]
      ],
      "rightEyeLower0": [
        [
          351.4117431640625,
          295.4350891113281,
          -0.2874141335487366
        ],
        [
          353.7898864746094,
          297.4148864746094,
          -1.3404743671417236
        ],
        [
          356.550537109375,
          299.0472717285156,
          -2.0973732471466064
        ],
        [
          360.2529602050781,
          300.96533203125,
          -2.4967594146728516
        ],
        [
          365.3200988769531,
          303.1065979003906,
          -2.105217218399048
        ],
        [
          369.8890686035156,
          304.52691650390625,
          -0.41609692573547363
        ],
        [
          374.0084533691406,
          305.3046875,
          1.8233990669250488
        ],
        [
          376.7782287597656,
          305.81219482421875,
          3.8874967098236084
        ],
        [
          378.3556823730469,
          305.8230895996094,
          4.593942642211914
        ]
      ],
      "rightEyeUpper1": [
        [
          350.4385681152344,
          291.6228332519531,
          -2.012145519256592
        ],
        [
          355.36273193359375,
          290.5923767089844,
          -3.3246941566467285
        ],
        [
          360.86285400390625,
          290.4322204589844,
          -3.7218871116638184
        ],
        [
          367.5339050292969,
          292.0099792480469,
          -2.946845293045044
        ],
        [
          373.4371032714844,
          294.68109130859375,
          -0.10065983235836029
        ],
        [
          377.65875244140625,
          298.2150573730469,
          2.7641043663024902
        ],
        [
          380.9854431152344,
          303.38006591796875,
          4.572511196136475
        ]
      ],
      "rightEyeLower1": [
        [
          348.2825622558594,
          294.6039123535156,
          -0.30024999380111694
        ],
        [
          349.8692932128906,
          298.2873840332031,
          -2.213754892349243
        ],
        [
          352.9739074707031,
          301.0239562988281,
          -3.34328293800354
        ],
        [
          358.5484619140625,
          303.6669616699219,
          -3.9453318119049072
        ],
        [
          364.3759460449219,
          305.79217529296875,
          -3.4125120639801025
        ],
        [
          370.11492919921875,
          307.414306640625,
          -1.613273024559021
        ],
        [
          374.9909362792969,
          307.85186767578125,
          1.1720949411392212
        ],
        [
          378.4295959472656,
          307.604248046875,
          3.0543980598449707
        ],
        [
          380.9980773925781,
          306.7528076171875,
          4.928215503692627
        ]
      ],
      "rightEyeUpper2": [
        [
          346.42596435546875,
          290.1339416503906,
          -1.6669285297393799
        ],
        [
          351.9634094238281,
          287.0892333984375,
          -3.5218167304992676
        ],
        [
          359.24462890625,
          286.64031982421875,
          -4.091759204864502
        ],
        [
          367.38433837890625,
          288.3867492675781,
          -2.925703763961792
        ],
        [
          375.2892761230469,
          291.9526062011719,
          -0.19969452917575836
        ],
        [
          383.015869140625,
          298.04791259765625,
          2.9759700298309326
        ],
        [
          385.44647216796875,
          303.95611572265625,
          4.962276935577393
        ]
      ],
      "rightEyeLower2": [
        [
          342.75494384765625,
          294.62164306640625,
          0.20433197915554047
        ],
        [
          343.4568176269531,
          299.9657897949219,
          -1.935220718383789
        ],
        [
          347.3538513183594,
          303.13348388671875,
          -3.9213521480560303
        ],
        [
          354.4574890136719,
          306.7197265625,
          -4.9468512535095215
        ],
        [
          362.8715515136719,
          309.3891296386719,
          -4.414644718170166
        ],
        [
          370.3900451660156,
          310.73980712890625,
          -2.423663854598999
        ],
        [
          376.3784484863281,
          311.0413818359375,
          0.23653440177440643
        ],
        [
          380.87469482421875,
          310.76776123046875,
          1.600551724433899
        ],
        [
          384.8548583984375,
          309.10614013671875,
          3.3759219646453857
        ]
      ],
      "rightEyeLower3": [
        [
          327.8756103515625,
          293.2713317871094,
          3.9954097270965576
        ],
        [
          335.2821960449219,
          301.32293701171875,
          -2.3618366718292236
        ],
        [
          340.6943664550781,
          306.288330078125,
          -6.659517288208008
        ],
        [
          350.12493896484375,
          310.8268127441406,
          -8.591373443603516
        ],
        [
          362.4537048339844,
          313.8350524902344,
          -6.803399562835693
        ],
        [
          370.94189453125,
          314.52484130859375,
          -4.463436126708984
        ],
        [
          377.8017272949219,
          314.2571105957031,
          -2.7407171726226807
        ],
        [
          383.40496826171875,
          313.117431640625,
          -0.9988989233970642
        ],
        [
          387.9894104003906,
          310.4889831542969,
          0.4704270660877228
        ]
      ],
      "rightEyebrowUpper": [
        [
          333.9083251953125,
          285.3791198730469,
          3.015341281890869
        ],
        [
          341.44384765625,
          279.4249267578125,
          0.9156385064125061
        ],
        [
          352.2298278808594,
          277.064208984375,
          -1.1450631618499756
        ],
        [
          364.72979736328125,
          278.20751953125,
          -1.9412271976470947
        ],
        [
          378.18426513671875,
          283.09344482421875,
          -2.0483851432800293
        ],
        [
          391.3727111816406,
          289.3408508300781,
          -0.025575809180736542
        ],
        [
          390.87744140625,
          296.0568542480469,
          0.1749117076396942
        ],
        [
          392.3826599121094,
          305.45355224609375,
          1.0287972688674927
        ]
      ],
      "rightEyebrowLower": [
        [
          335.5823669433594,
          294.16485595703125,
          1.5546116828918457
        ],
        [
          340.4165954589844,
          287.8152160644531,
          -0.5911529064178467
        ],
        [
          346.6221008300781,
          282.70550537109375,
          -2.630216121673584
        ],
        [
          355.9303283691406,
          281.282470703125,
          -3.493403673171997
        ],
        [
          366.3602600097656,
          282.6338195800781,
          -3.483975410461426
        ],
        [
          378.06964111328125,
          287.17559814453125,
          -2.2688088417053223
        ]
      ],
      "leftEyeUpper0": [
        [
          426.5362548828125,
          325.1322937011719,
          29.38467025756836
        ],
        [
          425.6771240234375,
          323.74285888671875,
          27.324804306030273
        ],
        [
          423.90118408203125,
          321.72998046875,
          25.04751968383789
        ],
        [
          420.2449035644531,
          319.5322265625,
          22.558351516723633
        ],
        [
          416.1163330078125,
          318.07342529296875,
          20.677492141723633
        ],
        [
          412.0437927246094,
          317.22467041015625,
          19.860172271728516
        ],
        [
          409.2327575683594,
          317.4740905761719,
          19.487165451049805
        ]
      ],
      "leftEyeLower0": [
        [
          426.985107421875,
          326.2678527832031,
          31.805801391601562
        ],
        [
          425.99774169921875,
          326.5968933105469,
          29.331146240234375
        ],
        [
          424.7435302734375,
          326.5215148925781,
          27.131305694580078
        ],
        [
          422.5452880859375,
          326.1219177246094,
          24.33873748779297
        ],
        [
          418.7279357910156,
          324.91876220703125,
          21.5935001373291
        ],
        [
          414.8419189453125,
          323.090576171875,
          19.768840789794922
        ],
        [
          411.3038330078125,
          320.7521057128906,
          19.143774032592773
        ],
        [
          408.9776306152344,
          319.11773681640625,
          19.38886260986328
        ],
        [
          407.742919921875,
          317.98858642578125,
          19.069053649902344
        ]
      ],
      "leftEyeUpper1": [
        [
          428.98760986328125,
          324.0648193359375,
          30.769662857055664
        ],
        [
          428.49481201171875,
          321.2347106933594,
          27.623571395874023
        ],
        [
          426.6246032714844,
          318.3341979980469,
          24.900293350219727
        ],
        [
          422.62200927734375,
          315.7063903808594,
          21.637624740600586
        ],
        [
          417.63909912109375,
          313.9184265136719,
          19.30324935913086
        ],
        [
          412.80279541015625,
          313.5043640136719,
          18.48229217529297
        ],
        [
          407.9898681640625,
          314.81689453125,
          17.852996826171875
        ]
      ],
      "leftEyeLower1": [
        [
          427.7263488769531,
          326.94842529296875,
          33.37178421020508
        ],
        [
          426.1477966308594,
          328.8923645019531,
          30.128631591796875
        ],
        [
          424.74957275390625,
          329.5899353027344,
          27.084514617919922
        ],
        [
          422.02093505859375,
          328.93255615234375,
          23.401992797851562
        ],
        [
          417.98919677734375,
          327.4258728027344,
          20.241409301757812
        ],
        [
          413.5093078613281,
          325.1481018066406,
          18.003772735595703
        ],
        [
          410.04742431640625,
          322.2476806640625,
          16.65283203125
        ],
        [
          407.9402770996094,
          319.7903137207031,
          16.796552658081055
        ],
        [
          406.52880859375,
          317.3901672363281,
          16.951112747192383
        ]
      ],
      "leftEyeUpper2": [
        [
          430.7188415527344,
          324.6551818847656,
          33.878150939941406
        ],
        [
          431.4194641113281,
          320.38604736328125,
          29.795303344726562
        ],
        [
          429.6903991699219,
          316.66253662109375,
          25.568761825561523
        ],
        [
          425.3827819824219,
          313.49542236328125,
          21.32754898071289
        ],
        [
          419.221435546875,
          311.0920104980469,
          18.394405364990234
        ],
        [
          411.291748046875,
          310.2894592285156,
          15.738112449645996
        ],
        [
          406.32159423828125,
          312.792724609375,
          14.229440689086914
        ]
      ],
      "leftEyeLower2": [
        [
          429.15936279296875,
          329.24951171875,
          36.136810302734375
        ],
        [
          428.318603515625,
          333.3572998046875,
          32.78264236450195
        ],
        [
          427.01690673828125,
          334.3833923339844,
          28.722742080688477
        ],
        [
          423.8141784667969,
          333.7886047363281,
          23.4804744720459
        ],
        [
          418.4748229980469,
          331.2807922363281,
          18.93785285949707
        ],
        [
          413.07794189453125,
          327.7633972167969,
          15.995745658874512
        ],
        [
          409.0219421386719,
          324.1515808105469,
          14.0972261428833
        ],
        [
          406.5440979003906,
          321.1354064941406,
          12.948562622070312
        ],
        [
          404.7688903808594,
          317.3430480957031,
          12.242484092712402
        ]
      ],
      "leftEyeLower3": [
        [
          432.5032043457031,
          334.2764587402344,
          47.40632247924805
        ],
        [
          431.2101135253906,
          338.42388916015625,
          36.33869552612305
        ],
        [
          430.1961975097656,
          340.60540771484375,
          29.77281951904297
        ],
        [
          426.45904541015625,
          340.0032653808594,
          22.132993698120117
        ],
        [
          419.0124816894531,
          335.6264343261719,
          16.54789924621582
        ],
        [
          413.26251220703125,
          330.97314453125,
          13.260990142822266
        ],
        [
          409.20892333984375,
          326.54852294921875,
          10.595354080200195
        ],
        [
          406.642578125,
          322.3597106933594,
          9.410689353942871
        ],
        [
          404.9386901855469,
          317.4084777832031,
          7.731598854064941
        ]
      ],
      "leftEyebrowUpper": [
        [
          434.1073303222656,
          325.8882141113281,
          44.955108642578125
        ],
        [
          435.7969055175781,
          318.8426513671875,
          40.245094299316406
        ],
        [
          434.78369140625,
          312.5302734375,
          32.73377227783203
        ],
        [
          430.8668518066406,
          307.24786376953125,
          24.82759666442871
        ],
        [
          423.9228210449219,
          303.43011474609375,
          15.859874725341797
        ],
        [
          414.4459533691406,
          299.83343505859375,
          9.07266616821289
        ],
        [
          411.16351318359375,
          305.03778076171875,
          8.311280250549316
        ],
        [
          404.86236572265625,
          310.71771240234375,
          6.451059818267822
        ]
      ],
      "leftEyebrowLower": [
        [
          431.17730712890625,
          331.91351318359375,
          40.848854064941406
        ],
        [
          433.009765625,
          325.3787841796875,
          38.29984664916992
        ],
        [
          434.46343994140625,
          319.5591125488281,
          34.007720947265625
        ],
        [
          433.0740051269531,
          314.358642578125,
          28.14081573486328
        ],
        [
          429.0204162597656,
          310.0840148925781,
          21.657163619995117
        ],
        [
          422.18560791015625,
          306.6734313964844,
          15.019820213317871
        ]
      ],
      "midwayBetweenEyes": [
        [
          400.2403564453125,
          307.345947265625,
          0.9153909683227539
        ]
      ],
      "noseTip": [
        [
          405.35894775390625,
          338.5940246582031,
          -25.367021560668945
        ]
      ],
      "noseBottom": [
        [
          398.2813415527344,
          344.193603515625,
          -16.171146392822266
        ]
      ],
      "noseRightCorner": [
        [
          379.14739990234375,
          338.348388671875,
          -14.309518814086914
        ]
      ],
      "noseLeftCorner": [
        [
          408.95623779296875,
          348.56500244140625,
          -4.723833084106445
        ]
      ],
      "rightCheek": [
        [
          354.88427734375,
          329.25531005859375,
          -15.884505271911621
        ]
      ],
      "leftCheek": [
        [
          422.6205749511719,
          354.03973388671875,
          9.285846710205078
        ]
      ]
    }
  }
  


  

  const leftEyeLandmarks = [
    "leftEyeUpper0", "leftEyeLower0", "leftEyeUpper1", "leftEyeLower1", "leftEyeUpper2", "leftEyeLower2"
];
const rightEyeLandmarks = [
    "rightEyeUpper0", "rightEyeLower0", "rightEyeUpper1", "rightEyeLower1", "rightEyeUpper2", "rightEyeLower2"
];

// Calculate the average positions of the left and right eye landmarks
const avgLeftEye = calculateAverageLandmark(face.annotations, leftEyeLandmarks);
const avgRightEye = calculateAverageLandmark(face.annotations, rightEyeLandmarks);

// Calculate the horizontal positions of the average landmarks
const leftEyeX = avgLeftEye.reduce((sum, point) => sum + point[0], 0) / avgLeftEye.length;
const rightEyeX = avgRightEye.reduce((sum, point) => sum + point[0], 0) / avgRightEye.length;

// Set a threshold value
const threshold = 10; // Adjust as needed

// Determine the gaze direction
let gazeDirection = "";
if (rightEyeX - leftEyeX > threshold) {
    gazeDirection = "right";
} else if (leftEyeX - rightEyeX > threshold) {
    gazeDirection = "left";
} else {
    gazeDirection = "center"; // Or some default value
}

console.log(`Gaze direction: ${gazeDirection}`);

// Function to calculate the average landmark position
function calculateAverageLandmark(annotations, landmarkNames) {
    const avgLandmark = [];
    for (const name of landmarkNames) {
        avgLandmark.push(annotations[name][0]);
    }
    return avgLandmark;
}



/////////////

const detect = async () => {
    // ... (same initialization code as before)

    // Landmark names for the upper and lower eye landmarks
    const upperEyeLandmarks = [
        "leftEyeUpper0", "rightEyeUpper0"
    ];
    const lowerEyeLandmarks = [
        "leftEyeLower0", "rightEyeLower0"
    ];

    // Calculate the average positions of the upper and lower eye landmarks
    const avgUpperEye = calculateAverageLandmark(face[0].annotations, upperEyeLandmarks);
    const avgLowerEye = calculateAverageLandmark(face[0].annotations, lowerEyeLandmarks);

    // Calculate the vertical positions of the average landmarks
    const upperEyeY = avgUpperEye.reduce((sum, point) => sum + point[1], 0) / avgUpperEye.length;
    const lowerEyeY = avgLowerEye.reduce((sum, point) => sum + point[1], 0) / avgLowerEye.length;

    // Set a threshold value for vertical direction
    const verticalThreshold = 10; // Adjust as needed

    // Determine the vertical gaze direction
    let verticalGazeDirection = "";
    if (lowerEyeY - upperEyeY > verticalThreshold) {
        verticalGazeDirection = "down";
    } else if (upperEyeY - lowerEyeY > verticalThreshold) {
        verticalGazeDirection = "up";
    } else {
        verticalGazeDirection = "straight"; // Or some default value
    }

    console.log(`Vertical gaze direction: ${verticalGazeDirection}`);
    
    // ... (rest of the code)
};







// Assuming the landmarks for left eye are stored in LEFT_EYE array and for right eye in RIGHT_EYE array
const LEFT_EYE = [362, 382, 381, 380, 374, 373, 390, 249, 263, 466, 388, 387, 386, 385, 384, 398];
const RIGHT_EYE = [33, 7, 163, 144, 145, 153, 154, 155, 133, 173, 157, 158, 159, 160, 161, 246];

// Assuming landmarks contains the current face landmarks
// landmarks is an array of objects with x, y, and z coordinates

// Extract the x-coordinates of landmarks associated with the left and right eyes
const leftEyeXCoords = LEFT_EYE.map(index => landmarks[index].x);
const rightEyeXCoords = RIGHT_EYE.map(index => landmarks[index].x);

// Define thresholds for looking outside (adjust as needed)
const leftThreshold = 0.4;  // User looking outside on the left side
const rightThreshold = 0.6; // User looking outside on the right side

// Check if the user is looking outside on the left or right side
const isLookingOutsideLeft = leftEyeXCoords.some(x => x < leftThreshold);
const isLookingOutsideRight = rightEyeXCoords.some(x => x > rightThreshold);

// Determine the gaze direction based on the results
if (isLookingOutsideLeft) {
  console.log("User is looking outside on the left side.");
} else if (isLookingOutsideRight) {
  console.log("User is looking outside on the right side.");
} else {
  console.log("User is looking straight ahead.");
}







  